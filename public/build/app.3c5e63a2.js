"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[143],{4761:(e,t,n)=>{n(9358),n(8932),n(2586),n(7337),n(3429),n(7462),n(228),n(3964),n(268);var a=n(3518);var o={ref:"depot-nav",class:"navbar navbar-expand-lg navbar-dark bg-primary"},s={class:"container-fluid"},i=(0,a._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,a._)("span",{class:"navbar-toggler-icon"})],-1),r={class:"collapse navbar-collapse",id:"navbarSupportedContent"},l={class:"navbar-nav me-auto mb-2 mb-lg-0"},d={key:0,class:"nav-item dropdown"},c=(0,a._)("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Relevés ",-1),u={class:"dropdown-menu"},m={key:1,class:"nav-item dropdown"},p=(0,a._)("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Attestations ",-1),f={class:"dropdown-menu"},h={key:2,class:"nav-item"},g=(0,a._)("div",{class:"d-flex"},[(0,a._)("button",{class:"btn btn-secondary",id:"btnMenuEnt"},[(0,a._)("span",{class:"mdi mdi-dots-grid"})])],-1);n(4284),n(6801),n(3843);var b=(0,a.qj)({name:"",encryptedName:"",roles:[],numero:"",setName:function(e){this.name=e},setEncryptedName:function(e){this.encryptedName=e},setRoles:function(e){this.roles=e},setNumero:function(e){this.numero=e},asRole:function(e){return this.roles.includes(e)},isAdmin:function(){return this.asRole("ROLE_ADMIN")},isEtudiant:function(){return this.asRole("ROLE_ETUDIANT")},isScola:function(){return this.asRole("ROLE_SCOLA")}});const v={name:"Header",data:function(){return{navHeight:0}},computed:{user:function(){return b}},methods:{},mounted:function(){this.navHeight=this.$refs["depot-nav"].offsetHeight+1}};var y=n(3744);const _={name:"App",components:{Header:(0,y.Z)(v,[["render",function(e,t,n,b,v,y){var _=(0,a.up)("router-link"),w=(0,a.up)("uca-menu");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("nav",o,[(0,a._)("div",s,[(0,a.Wm)(_,{class:"navbar-brand",to:"/scola"},{default:(0,a.w5)((function(){return[(0,a.Uk)("Doc Scola")]})),_:1}),i,(0,a._)("div",r,[(0,a._)("ul",l,[y.user.isScola()?((0,a.wg)(),(0,a.iD)("li",d,[c,(0,a._)("ul",u,[(0,a._)("li",null,[(0,a.Wm)(_,{class:"dropdown-item",to:"/scola/import/rn"},{default:(0,a.w5)((function(){return[(0,a.Uk)("Import")]})),_:1})]),(0,a._)("li",null,[(0,a.Wm)(_,{class:"dropdown-item",to:"/scola/monitoring/rn"},{default:(0,a.w5)((function(){return[(0,a.Uk)("Suivi")]})),_:1})])])])):(0,a.kq)("v-if",!0),y.user.isScola()?((0,a.wg)(),(0,a.iD)("li",m,[p,(0,a._)("ul",f,[(0,a._)("li",null,[(0,a.Wm)(_,{class:"dropdown-item",to:"/scola/import/attest"},{default:(0,a.w5)((function(){return[(0,a.Uk)("Import")]})),_:1})]),(0,a._)("li",null,[(0,a.Wm)(_,{class:"dropdown-item",to:"/scola/monitoring/attest"},{default:(0,a.w5)((function(){return[(0,a.Uk)("Suivi")]})),_:1})])])])):(0,a.kq)("v-if",!0),y.user.isScola()?((0,a.wg)(),(0,a.iD)("li",h,[(0,a.Wm)(_,{"active-class":"active",class:"nav-link","aria-current":"page",to:"/scola/search"},{default:(0,a.w5)((function(){return[(0,a.Uk)("Recherche étudiant ")]})),_:1})])):(0,a.kq)("v-if",!0)]),g])])],512),(0,a.Wm)(w,{"data-opener":"btnMenuEnt","data-opener-class":"active","data-top":v.navHeight,"data-client":"DOCSCOLA","data-connected":y.user.encryptedName,"data-path-login":"https://ent.uca.fr/cas/login?service=http://depotdoc.infra.dsi.uca.fr/scola","data-path-logout":"https://ent.uca.fr/cas/logout?service=http://depotdoc.infra.dsi.uca.fr/logout"},null,8,["data-top","data-connected"])],64)}]])}},w=(0,y.Z)(_,[["render",function(e,t,n,o,s,i){var r=(0,a.up)("Header"),l=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a.Wm)(l)],64)}]]);var D=n(4727),k={class:"container"},x=(0,a._)("div",{class:"row justify-content-md-center"},[(0,a._)("h2",null,"Gestion des documents de scolarité")],-1),S={style:{"margin-top":"40px"},class:"row"},C={class:"col-sm"},T={class:"card text-white bg-primary"},R=(0,a._)("div",{class:"card-header"},"Relevés de notes",-1),N={class:"card-body"},M={style:{"text-align":"center"}},E={style:{"text-align":"center"}},q={class:"col-sm"},F={class:"card text-white bg-primary"},O=(0,a._)("div",{class:"card-header"},"Attestations de réussite",-1),U={class:"card-body"},j={style:{"text-align":"center"}},Z={style:{"text-align":"center"}};const L={name:"HomeScola"},A=(0,y.Z)(L,[["render",function(e,t,n,o,s,i){var r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",k,[x,(0,a._)("div",S,[(0,a._)("div",C,[(0,a._)("div",T,[R,(0,a._)("div",N,[(0,a._)("h2",M,[(0,a.Wm)(r,{class:"btn btn-secondary",to:"/scola/import/rn"},{default:(0,a.w5)((function(){return[(0,a.Uk)("Importer des relevés de notes ")]})),_:1})]),(0,a._)("h2",E,[(0,a.Wm)(r,{class:"btn btn-secondary",to:"/scola/monitoring/rn"},{default:(0,a.w5)((function(){return[(0,a.Uk)("Suivi du dépôt des relevés de notes ")]})),_:1})])])])]),(0,a._)("div",q,[(0,a._)("div",F,[O,(0,a._)("div",U,[(0,a._)("h2",j,[(0,a.Wm)(r,{class:"btn btn-secondary",to:"/scola/import/attest"},{default:(0,a.w5)((function(){return[(0,a.Uk)("Importer des attestations de réussite ")]})),_:1})]),(0,a._)("h2",Z,[(0,a.Wm)(r,{class:"btn btn-secondary",to:"/scola/monitoring/attest"},{default:(0,a.w5)((function(){return[(0,a.Uk)("Suivi du dépôt des attestations de réussite ")]})),_:1})])])])])])])}]]);var I={class:"container"},H={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},W={class:"breadcrumb"};n(9288),n(560);var P=function(e){return(0,a.dD)("data-v-4dd50802"),e=e(),(0,a.Cn)(),e},z={key:0},V={key:1},Y={class:"mb-3"},G=P((function(){return(0,a._)("label",{for:"input_rn",class:"form-label"},"Relevé de notes",-1)})),B={class:"mb-3"},$=P((function(){return(0,a._)("label",{for:"input_etu",class:"form-label"},"Fichier ETU",-1)})),X={key:0,class:"mb-3"},J=P((function(){return(0,a._)("label",{for:"select_sem",class:"form-label"},"Semestre",-1)})),K=[(0,a.uE)("<option data-v-4dd50802>1</option><option data-v-4dd50802>2</option><option data-v-4dd50802>A</option><option data-v-4dd50802>1p1</option><option data-v-4dd50802>1p2</option><option data-v-4dd50802>1p3</option><option data-v-4dd50802>2p1</option><option data-v-4dd50802>2p2</option><option data-v-4dd50802>2p3</option><option data-v-4dd50802>Ap1</option><option data-v-4dd50802>Ap2</option><option data-v-4dd50802>Ap3</option>",12)],Q={key:1,class:"mb-3"},ee=P((function(){return(0,a._)("label",{for:"select_sess",class:"form-label"},"Session",-1)})),te=[P((function(){return(0,a._)("option",null,"1",-1)})),P((function(){return(0,a._)("option",null,"2",-1)})),P((function(){return(0,a._)("option",null,"U",-1)}))],ne={key:2,class:"mb-3"},ae=P((function(){return(0,a._)("label",{for:"txt_lib",class:"form-label"},"Libellé",-1)})),oe={class:"mb-3"},se=P((function(){return(0,a._)("label",{for:"input_tampon",class:"form-label"},"Tampon",-1)})),ie={class:"mb-3"},re=P((function(){return(0,a._)("label",{for:"txt_tampon",class:"form-label"},"Numéro de page d'exemple pour tampon",-1)})),le=["disabled"],de=["disabled"],ce={key:2,class:"text-center"},ue=[P((function(){return(0,a._)("div",{class:"lds-ripple"},[(0,a._)("div"),(0,a._)("div")],-1)}))];n(9373),n(9903),n(9749),n(6544),n(1057),n(739),n(4254),n(752),n(1694),n(6265);var me=n(1257);function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function fe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,he(a.key),a)}}function he(e){var t=function(e,t){if("object"!=pe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=pe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pe(t)?t:String(t)}const ge=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"getMonitoring",value:function(e){return 0===e?me.Z.get("/api/monitoring/rn"):me.Z.get("/api/monitoring/attest")}},{key:"searchStudent",value:function(e){return me.Z.post("/api/scola/search",e)}},{key:"getStudentDocs",value:function(e){return me.Z.get("/api/etudiant/"+e)}},{key:"importRn",value:function(e,t){var n=new FormData;return n.append("pdf",t.pdf),n.append("etu",t.etu),n.append("sem",t.sem),n.append("sess",t.sess),n.append("lib",t.lib),n.append("tampon",t.tampon),n.append("numTampon",t.numTampon),0===e?me.Z.post("/api/import/rn",n,{headers:{"Content-Type":"multipart/form-data"}}):me.Z.post("/api/import/attests",n,{headers:{"Content-Type":"multipart/form-data"}})}},{key:"truncate",value:function(e,t){return me.Z.post("/api/import/truncate_unit",{page:e,mode:t})}},{key:"getSelection",value:function(e){return 0===e?me.Z.get("/api/selection/rn"):me.Z.get("/api/selection/attest")}},{key:"transfertRn",value:function(e,t){return me.Z.post("/api/transfert/releves",{nums:e,mode:t})}},{key:"fetchMailTemplate",value:function(){return me.Z.get("/api/transfert/mail/template")}},{key:"sendMail",value:function(e,t){return me.Z.post("/api/transfert/mail",{ids:e,mode:t})}},{key:"getTamponExample",value:function(e){return me.Z.get("/api/get_tampon_example/"+e,{responseType:"blob"})}},{key:"applyTampon",value:function(e,t){return me.Z.post("/api/apply_tampon",{dx:e,dy:t})}},{key:"fetchRnFiles",value:function(e){return me.Z.get("/api/import/imported/"+e)}},{key:"removeFiles",value:function(e,t){return me.Z.post("/api/monitoring/delete",{dataId:e,numsEtu:t})}},{key:"sendMails",value:function(e){return me.Z.post("/api/transfert/mail",{numsEtu:e,mode:0})}}])&&fe(t.prototype,n),a&&fe(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()),be={name:"Import",emits:["imported"],props:{mode:Number},data:function(){return{rn:{pdf:"",etu:"",sem:0===this.mode?"1":"",sess:0===this.mode?"1":"",lib:"",tampon:"",numTampon:1},canSubmit:!0}},methods:{importRn:function(e){var t=this;this.canSubmit=!1,ge.importRn(this.mode,this.rn).then((function(e){t.$emit("imported",e.data)})).catch((function(e){void 0!==e.response.data.error?alert(e.response.data.error):alert("Une erreur est survenue lors de l'importation du relevé de notes"),t.canSubmit=!0}))},onPdfFileChange:function(e){this.rn.pdf=e.target.files[0]},onEtuFileChange:function(e){this.rn.etu=e.target.files[0]},onTamponFileChange:function(e){this.rn.tampon=e.target.files[0]}},mounted:function(){console.log(this.mode)},watch:{mode:function(){this.rn.sem=0===this.mode?"1":"",this.rn.sess=0===this.mode?"1":""}}},ve=(0,y.Z)(be,[["render",function(e,t,n,o,s,i){var r=this;return(0,a.wg)(),(0,a.iD)(a.HY,null,[0===n.mode?((0,a.wg)(),(0,a.iD)("h3",z,"Extraction des relevés de notes")):(0,a.kq)("v-if",!0),1===n.mode?((0,a.wg)(),(0,a.iD)("h3",V,"Extraction des attestations de réussite")):(0,a.kq)("v-if",!0),(0,a._)("form",{class:"mt-3",onSubmit:t[7]||(t[7]=(0,a.iM)((function(e){return r.importRn()}),["prevent"]))},[(0,a._)("div",Y,[G,(0,a._)("input",{type:"file",accept:"application/pdf",required:"",onChange:t[0]||(t[0]=function(e){return i.onPdfFileChange(e)}),class:"form-control",id:"input_rn"},null,32)]),(0,a._)("div",B,[$,(0,a._)("input",{type:"file",accept:".etu",required:"",onChange:t[1]||(t[1]=function(e){return i.onEtuFileChange(e)}),class:"form-control",id:"input_etu"},null,32)]),0===n.mode?((0,a.wg)(),(0,a.iD)("div",X,[J,(0,a.wy)((0,a._)("select",{id:"select_sem",required:"",class:"form-select","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.rn.sem=e})},K,512),[[a.bM,this.rn.sem]])])):(0,a.kq)("v-if",!0),0===n.mode?((0,a.wg)(),(0,a.iD)("div",Q,[ee,(0,a.wy)((0,a._)("select",{id:"select_sess",required:"",class:"form-select","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.rn.sess=e})},te,512),[[a.bM,this.rn.sess]])])):(0,a.kq)("v-if",!0),0===n.mode?((0,a.wg)(),(0,a.iD)("div",ne,[ae,(0,a.wy)((0,a._)("input",{type:"text",required:"","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.rn.lib=e}),class:"form-control",id:"txt_lib","aria-describedby":"emailHelp"},null,512),[[a.nr,this.rn.lib]])])):(0,a.kq)("v-if",!0),(0,a._)("div",oe,[se,(0,a._)("input",{type:"file",accept:".png",onChange:t[5]||(t[5]=function(e){return i.onTamponFileChange(e)}),class:"form-control",id:"input_tampon"},null,32)]),(0,a._)("div",ie,[re,(0,a.wy)((0,a._)("input",{type:"number",min:"1",required:"","onUpdate:modelValue":t[6]||(t[6]=function(e){return r.rn.numTampon=e}),disabled:""===this.rn.tampon,class:"form-control",id:"txt_tampon"},null,8,le),[[a.nr,this.rn.numTampon]])]),(0,a._)("button",{type:"submit",class:"btn btn-primary",disabled:!s.canSubmit},"Charger",8,de)],32),s.canSubmit?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",ce,ue))],64)}],["__scopeId","data-v-4dd50802"]]);var ye=(0,a._)("div",{style:{"text-align":"center"}},[(0,a._)("h2",{style:{display:"inline-block",margin:"0 auto"}},"Découpage du document PDF")],-1),_e={class:"row justify-content-md-center",id:"pg_container",style:{"margin-top":"17px","margin-bottom":"17px",width:"100%"}},we={class:"progress",style:{width:"75%",height:"35px"}},De=["aria-valuenow"];n(1416);const ke={name:"Truncate",emits:["truncated"],props:{pageCount:0,pageIndex:0,mode:Number},data:function(){return{percent:0}},methods:{callTruncate:function(e){var t=this;ge.truncate(e,this.mode).then((function(e){var n=e.data;n>0?(t.percent=Math.trunc((n-1)/t.pageCount*100),t.callTruncate(n)):t.$emit("truncated")})).catch((function(e){console.log("fail")}))}},mounted:function(){this.callTruncate(this.pageIndex)}},xe=(0,y.Z)(ke,[["render",function(e,t,n,o,s,i){return(0,a.wg)(),(0,a.iD)(a.HY,null,[ye,(0,a._)("div",_e,[(0,a._)("div",we,[(0,a._)("div",{class:"progress-bar progress-bar-striped progress-bar-animated",id:"truncate_pg",role:"progressbar","aria-valuenow":s.percent,"aria-valuemin":"0","aria-valuemax":"100",style:(0,a.j5)({width:s.percent+"%",visibility:"visible",height:"35px"})},(0,a.zw)(s.percent)+"% ",13,De)])])],64)}]]);var Se={key:0,class:"mt-2 row justify-content-md-center"},Ce={class:"form-group col-sm-2"},Te=(0,a._)("label",{class:"control-label"},"Semestre",-1),Re={class:"form-group col-sm-2"},Ne=(0,a._)("label",{class:"control-label"},"Session",-1),Me={class:"form-group col-sm-2"},Ee=(0,a._)("label",{class:"control-label"},"Libellé",-1),qe=["value"],Fe={class:"form-group col-sm-2"},Oe=(0,a._)("label",{class:"control-label"},"Code",-1),Ue=["value"],je={class:"form-group col-sm-2"},Ze=(0,a._)("label",{class:"control-label"},"Année",-1),Le={id:"transfert_div",class:"row justify-content-md-center mt-2"},Ae=["disabled"],Ie={key:0},He={key:1};n(4338),n(886);var We=n(479);const Pe={name:"Selection",props:{mode:Number},components:{AgGridVue:We.n},emits:["selected"],data:function(){var e=this;return{data:null,students:null,selectedRows:[],defaultColDef:{sortable:!0,filter:!0,resizable:!0,minWidth:100,editable:!1,flex:1},columnDefs:[{field:"numero",headerName:"Numero",headerCheckboxSelection:!0,checkboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,showDisabledCheckboxes:!0},{field:"name",headerName:"Nom"},{field:"surname",headerName:"Prenom"},{field:"birthday",headerName:"Date de naissance"},{field:"mail",headerName:"Mail"},{headerName:"Relevé",flex:2,cellRenderer:function(t){return 0===e.mode?'<a target="_blank" href="/preview/tmp/releves/'.concat(t.data.numero,'">').concat(t.data.file,"</a>"):'<a target="_blank" href="/preview/tmp/attests/'.concat(t.data.numero,'">').concat(t.data.file,"</a>")}},{headerName:"Relevé déjà existant",cellStyle:{textAlign:"center"},cellRenderer:function(t){if(-1!==t.data.index)return 0===e.mode?'<a target="_blank" href="/preview/releves/'.concat(t.data.numero,"/").concat(t.data.index,'">Voir</a>'):'<a target="_blank" href="/preview/attests/'.concat(t.data.numero,"/").concat(t.data.index,'">Voir</a>')}}]}},methods:{fetchSelection:function(){var e=this;ge.getSelection(this.mode).then((function(t){console.log(t.data),e.data=t.data.data,e.students=t.data.students})).catch((function(e){console.log("fail")}))},onSelectionChanged:function(e){this.selectedRows=e.api.getSelectedRows()},OnGO:function(){confirm("En continuant, les documents séléctionnés seront transférés.")&&this.$emit("selected",this.selectedRows.map((function(e){return e.numero})),this.students,this.data)}},mounted:function(){this.fetchSelection()}},ze=(0,y.Z)(Pe,[["render",function(e,t,n,o,s,i){var r=this,l=(0,a.up)("ag-grid-vue");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.kq)("  HEADER INFO"),null!==this.data?((0,a.wg)(),(0,a.iD)("div",Se,[(0,a._)("div",Ce,[Te,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.data.semestre=e}),class:"form-control",style:{"text-align":"center"},name:"session",type:"text",disabled:""},null,512),[[a.nr,this.data.semestre]])]),(0,a._)("div",Re,[Ne,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.data.session=e}),class:"form-control",style:{"text-align":"center"},type:"text",disabled:""},null,512),[[a.nr,this.data.session]])]),(0,a._)("div",Me,[Ee,(0,a._)("input",{class:"form-control",style:{"text-align":"center"},type:"text",disabled:"",value:""===s.data.libelle?s.data.libelle_form:s.data.libelle},null,8,qe)]),(0,a._)("div",Fe,[Oe,(0,a._)("input",{class:"form-control",style:{"text-align":"center"},type:"text",disabled:"",value:""===s.data.code?s.data.code_obj:s.data.code},null,8,Ue)]),(0,a._)("div",je,[Ze,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.data.year=e}),class:"form-control",style:{"text-align":"center"},type:"text",disabled:""},null,512),[[a.nr,this.data.year]])])])):(0,a.kq)("v-if",!0),(0,a.kq)("  BUTTONS"),(0,a._)("div",Le,[(0,a._)("button",{type:"button",class:"btn btn-primary",id:"btn_go",disabled:0===s.selectedRows.length,onClick:t[3]||(t[3]=function(){return i.OnGO&&i.OnGO.apply(i,arguments)})},[0===s.selectedRows.length?((0,a.wg)(),(0,a.iD)("span",Ie,"Continuer")):((0,a.wg)(),(0,a.iD)("span",He,"Continuer ("+(0,a.zw)(this.selectedRows.length)+" / "+(0,a.zw)(this.data.nb_students)+")",1))],8,Ae)]),(0,a.kq)("  TABLEAU"),(0,a.Wm)(l,{class:"ag-theme-alpine",style:{height:"75vh"},columnDefs:s.columnDefs,rowData:this.students,defaultColDef:s.defaultColDef,pagination:"true",suppressRowClickSelection:"true",rowSelection:"multiple",animateRows:"true",ensureDomOrder:!0,onSelectionChanged:i.onSelectionChanged,enableCellTextSelection:!0},null,8,["columnDefs","rowData","defaultColDef","onSelectionChanged"])],64)}]]);var Ve={style:{"text-align":"center"}},Ye={style:{display:"inline-block",margin:"0 auto"}},Ge={key:0,class:"row justify-content-md-center",style:{"margin-top":"17px","margin-bottom":"17px",width:"100%"}},Be={class:"progress",style:{width:"75%",height:"35px"}},$e=["aria-valuenow"],Xe={key:1,class:"container",style:{width:"100%"}},Je={style:{"border-style":"outset",padding:"5px"}},Ke=(0,a.uE)('<div class="row"><div class="col-2"><p>Expéditeur : </p></div><div class="col-6"><a href="mailto: noreply@uca.fr">noreply@uca.fr</a></div></div><div class="row"><div class="col-2"><p>Sujet : </p></div><div class="col-6"><p>Dépôt de document Université Clermont Auvergne</p></div></div>',2),Qe={class:"row"},et=(0,a._)("div",{class:"col-2"},[(0,a._)("p",null,"Contenu : ")],-1),tt=["innerHTML"],nt={style:{"text-align":"center","margin-bottom":"20px","margin-top":"20px","margin-right":"50px"}},at=(0,a._)("h5",null,[(0,a._)("strong",null,"Voulez-vous envoyer un mail de notification aux étudiants concernés ?")],-1),ot={class:"row justify-content-md-center"};const st={name:"Transfert",emits:["finished"],props:{students:null,selectedRows:null,mode:Number},data:function(){return{index:0,percent:0,tranfert_done:!1,templateMail:null,nbDocToTransfert:0,numsToTransfert:null}},methods:{fetchMailTemplate:function(){var e=this;ge.fetchMailTemplate().then((function(t){e.templateMail=t.data})).catch((function(e){console.log("fail")}))},transfert:function(){var e=this;ge.transfertRn(this.numsToTransfert,this.mode).then((function(t){e.numsToTransfert=t.data,e.index=e.nbDocToTransfert-e.numsToTransfert.length,e.percent=Math.floor(e.index/e.nbDocToTransfert*100),e.numsToTransfert.length>0?e.transfert():(e.tranfert_done=!0,e.fetchMailTemplate())})).catch((function(e){console.log("fail")}))},sendMails:function(e){var t=this;e?ge.sendMails(this.numsToTransfert).then((function(e){alert("Les mails ont été envoyés"),t.$emit("finished")})).catch((function(e){console.log("fail")})):this.$emit("finished")}},mounted:function(){this.nbDocToTransfert=this.selectedRows.length,this.numsToTransfert=this.selectedRows,this.transfert()}},it=(0,y.Z)(st,[["render",function(e,t,n,o,s,i){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",Ve,[(0,a._)("h2",Ye,"Transfert de "+(0,a.zw)(this.nbDocToTransfert)+" / "+(0,a.zw)(this.students.length)+" documents",1)]),s.tranfert_done?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",Ge,[(0,a._)("div",Be,[(0,a._)("div",{class:(0,a.C_)({"progress-bar":!0,"progress-bar-striped":!0,"progress-bar-animated":!s.tranfert_done}),role:"progressbar","aria-valuenow":s.percent,"aria-valuemin":"0","aria-valuemax":"100",style:(0,a.j5)({width:s.percent+"%",visibility:"visible",height:"35px"})},(0,a.zw)(s.percent)+"% ",15,$e)])])),null!==s.templateMail?((0,a.wg)(),(0,a.iD)("div",Xe,[(0,a._)("div",Je,[Ke,(0,a._)("div",Qe,[et,(0,a._)("div",{class:"col-6",innerHTML:s.templateMail},null,8,tt)])]),(0,a._)("div",nt,[at,(0,a._)("div",ot,[(0,a._)("button",{style:{"margin-right":"10px"},onClick:t[0]||(t[0]=function(e){return i.sendMails(!1)}),class:"btn btn-secondary",type:"button"},"Non "),(0,a._)("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=function(e){return i.sendMails(!0)}),type:"button"},"Oui")])])])):(0,a.kq)("v-if",!0)],64)}]]);var rt=["src"],lt=["data"],dt=[(0,a._)("p",null,"Unable to display PDF file.",-1)];n(8730),n(9307);const ct={name:"Tampon",props:{mode:Number},emits:["tamponned"],data:function(){return{tamponExample:null,dragging:!1,lastX:0,lastY:0}},methods:{fetchTampon:function(){var e=this;ge.getTamponExample(this.mode).then((function(t){console.log(t.data),e.tamponExample=URL.createObjectURL(t.data)})).catch((function(e){console.log(e.response.data.error)}))},onMouseMove:function(e){if(this.dragging){var t=e.clientX-this.lastX,n=e.clientY-this.lastY,a=document.getElementById("draggable");a.style.left=a.offsetLeft+t+"px",a.style.top=a.offsetTop+n+"px",this.lastX=e.clientX,this.lastY=e.clientY,console.log(a.style.left,a.style.top)}else e.preventDefault()},onMouseUp:function(e){this.dragging=!1},onMouseDown:function(e){this.dragging=!0,this.lastX=e.clientX,this.lastY=e.clientY},allowDrop:function(e){e.preventDefault()},applyTampon:function(){var e=this,t=document.getElementById("pdf").getBoundingClientRect().width-48,n=document.getElementById("pdf").getBoundingClientRect().height-5-54,a=document.getElementById("pdf").getBoundingClientRect(),o=document.getElementById("draggable").getBoundingClientRect(),s=210*(o.x-a.x-24)/t,i=297*(o.y-a.y-5)/n;console.log(s,i),ge.applyTampon(s,i).then((function(t){e.$emit("tamponned")})).catch((function(e){console.log(e.response.data.error)}))}},mounted:function(){this.fetchTampon(),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp)},beforeDestroy:function(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)}},ut={name:"ImportDoc",components:{Tampon:(0,y.Z)(ct,[["render",function(e,t,n,o,s,i){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("img",{alt:"tampon",style:{"z-index":"1",position:"absolute"},id:"draggable",draggable:"true",onMousedown:t[0]||(t[0]=function(){return i.onMouseDown&&i.onMouseDown.apply(i,arguments)}),src:"/api/get_tampon/"+this.mode},null,40,rt),(0,a._)("button",{class:"btn btn-primary mb-2",type:"button",onClick:t[1]||(t[1]=function(){return i.applyTampon&&i.applyTampon.apply(i,arguments)})},"Appliquer le tampon"),(0,a._)("object",{onDragover:t[2]||(t[2]=function(){return i.allowDrop&&i.allowDrop.apply(i,arguments)}),id:"pdf",data:s.tamponExample+"#zoom=100&pagemode=none&scrollbar=0&toolbar=0&statusbar=1&messages=0&navpanes=0",type:"application/pdf",width:"840px",height:"1180px"},dt,40,lt)],64)}]]),Transfert:it,Selection:ze,Truncate:xe,Import:ve},props:{mode:Number},data:function(){return{step:0,importData:null,students:null,selectedRows:null}},methods:{onDataImported:function(e){this.importData=e,!0===this.importData.sameFiles&&this.importData.sameParams?alert("Le nom des fichiers ainsi que les paramètres correspondent à un dépôt existant"):!0===this.importData.sameFiles&&alert("Le nom des fichiers correspondent à un dépôt existant"),"tampon"===this.importData.step?this.step=1:this.step=2},onDataTruncated:function(){this.step=3},onSelected:function(e,t,n){this.step=4,this.students=t,this.selectedRows=e},onTamponned:function(){this.step=2},onTransfertFinished:function(){this.step=5,0===this.mode?this.$router.push({path:"/scola/monitoring/rn"}):1===this.mode&&this.$router.push({path:"/scola/monitoring/attest"})}},beforeRouteLeave:function(e,t,n){this.step>0&&5!==this.step?confirm("Voulez-vous vraiment quitter cette page ?")?n():n(!1):n()},mounted:function(){console.log(this.mode)}},mt=(0,y.Z)(ut,[["render",function(e,t,n,o,s,i){var r=(0,a.up)("Import"),l=(0,a.up)("Tampon"),d=(0,a.up)("Truncate"),c=(0,a.up)("Selection"),u=(0,a.up)("Transfert");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",I,[(0,a._)("nav",H,[(0,a._)("ol",W,[(0,a._)("li",{class:(0,a.C_)(["breadcrumb-item active",{"text-primary":0===s.step,"fw-bold":0===s.step}]),"aria-current":"page"},"Import ",2),(0,a._)("li",{class:(0,a.C_)(["breadcrumb-item active",{"text-primary":1===s.step,"fw-bold":1===s.step}]),"aria-current":"page"},"Tamponnage ",2),(0,a._)("li",{class:(0,a.C_)(["breadcrumb-item active",{"text-primary":2===s.step,"fw-bold":2===s.step}]),"aria-current":"page"},"Découpage ",2),(0,a._)("li",{class:(0,a.C_)(["breadcrumb-item active",{"text-primary":3===s.step,"fw-bold":3===s.step}]),"aria-current":"page"},"Sélection ",2),(0,a._)("li",{class:(0,a.C_)(["breadcrumb-item active",{"text-primary":4===s.step,"fw-bold":4===s.step}]),"aria-current":"page"},"Transfert ",2)])])]),(0,a._)("div",{class:(0,a.C_)({container:2!==s.step,"container-fluid":2===s.step})},[0===s.step?((0,a.wg)(),(0,a.j4)(r,{key:0,mode:n.mode,onImported:i.onDataImported},null,8,["mode","onImported"])):(0,a.kq)("v-if",!0),1===s.step?((0,a.wg)(),(0,a.j4)(l,{key:1,mode:n.mode,onTamponned:i.onTamponned},null,8,["mode","onTamponned"])):(0,a.kq)("v-if",!0),2===s.step?((0,a.wg)(),(0,a.j4)(d,{key:2,mode:n.mode,"page-count":this.importData.pageCount,"page-index":this.importData.pageFirst,onTruncated:i.onDataTruncated},null,8,["mode","page-count","page-index","onTruncated"])):(0,a.kq)("v-if",!0),3===s.step?((0,a.wg)(),(0,a.j4)(c,{key:3,mode:n.mode,onSelected:i.onSelected},null,8,["mode","onSelected"])):(0,a.kq)("v-if",!0),4===s.step?((0,a.wg)(),(0,a.j4)(u,{key:4,mode:n.mode,students:this.students,selectedRows:this.selectedRows,onFinished:i.onTransfertFinished},null,8,["mode","students","selectedRows","onFinished"])):(0,a.kq)("v-if",!0)],2)],64)}]]);var pt={class:"container-fluid"},ft={key:0,class:"modal fade",id:"historiqueModal",tabindex:"-1","aria-labelledby":"historiqueModalLabel","aria-hidden":"true"},ht={class:"modal-dialog modal-xl"},gt={class:"modal-content"},bt=(0,a._)("div",{class:"modal-header"},[(0,a._)("h1",{class:"modal-title fs-5",id:"historiqueModalLabel"},"Historique"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),vt={class:"modal-body"},yt=(0,a._)("div",{class:"modal-footer"},[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1),_t={key:1,class:"modal fade",id:"suppressionModal",tabindex:"-1","aria-labelledby":"suppressionModalLabel","aria-hidden":"true"},wt={class:"modal-dialog modal-xl"},Dt={class:"modal-content"},kt=(0,a._)("div",{class:"modal-header"},[(0,a._)("h1",{class:"modal-title fs-5",id:"suppressionModalLabel"},"Suppression de documents"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),xt={class:"modal-body"},St={class:"modal-footer"},Ct=(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),Tt={key:2,class:"text-center"},Rt={key:3,class:"text-center"};n(9730);var Nt={template:'<button data-bs-toggle="modal" :data-bs-target="this.params.modal" class="btn btn-secondary mt-1"\n                style="height: 30px"\n                v-on:click="this.params.onClicked(this.params.data)">{{ this.params.txt }}</button>'};const Mt={name:"MonitoringDoc",props:{mode:Number},components:{AgGridVue:We.n},data:function(){var e=this;return{selected:null,selectedDeleteRows:null,files:null,monitoring:null,defaultColDef:{floatingFilter:!0,sortable:!0,filter:!0,resizable:!0,minWidth:100,editable:!1,flex:1,menuTabs:["columnsMenuTab"]},columnDefs:[{field:"username",headerName:"Utilisateur"},{headerName:"Date de traitement",valueGetter:function(e){return e.data.history.slice(-1)[0].date}},{headerName:"Fichiers traités",flex:2,valueGetter:function(e){return e.data.pdf_filename+" / "+e.data.etu_filename}},{headerName:"Année universitaire / Session / Semestre",valueGetter:function(e){return e.data.year+" / "+e.data.session+" / "+e.data.semestre}},{headerName:"Code",valueGetter:function(e){return e.data.type+" / "+e.data.code_obj+" / "+e.data.code}},{headerName:"Libellé",valueGetter:function(e){return e.data.libelle_form+" / "+e.data.libelle}},{headerName:"Nombre de transferts",valueGetter:function(e){return e.data.history.slice(-1)[0].nb_files+" / "+e.data.nb_students}},{headerName:"Historique",floatingFilter:!1,cellRenderer:Nt,cellRendererParams:{onClicked:function(t){return e.selected=t},txt:"Voir",modal:"#historiqueModal"}},{headerName:"Suppression",editable:!1,cellRenderer:Nt,cellRendererParams:{onClicked:function(t){e.selected=t,e.fetchFiles(t.id)},txt:"Edit",modal:"#suppressionModal"}}],columnHistorique:[{field:"date",headerName:"Date"},{headerName:"Nombre de fichiers",valueGetter:function(t){return t.data.nb_files+" / "+e.selected.nb_students}},{headerName:"Action",editable:!1,valueGetter:function(e){return 1===e.data.state?"Dépot initial":2===e.data.state?"Dépot supplémentaire":3===e.data.state?"Suppression":"Erreur"}}],columnEdit:[{headerName:"fichier",valueGetter:function(e){return e.data},headerCheckboxSelection:!0,checkboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,showDisabledCheckboxes:!0}]}},methods:{fetchRnMonitoring:function(){var e=this;ge.getMonitoring(this.mode).then((function(t){e.monitoring=t.data,console.log(e.monitoring)})).catch((function(e){console.log(e),alert("Erreur lors de la récupération des données")}))},fetchFiles:function(e){var t=this;ge.fetchRnFiles(e).then((function(e){console.log(e.data),t.files=e.data})).catch((function(e){console.log(e),alert("Erreur lors de la récupération des données")}))},removeFiles:function(){var e=this.selectedDeleteRows.map((function(e){return e.split("_")[0]}));console.log(e),ge.removeFiles(this.selected.id,e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},onSelectionDeleteChanged:function(e){this.selectedDeleteRows=e.api.getSelectedRows(),console.log(this.selectedDeleteRows)}},beforeMount:function(){this.fetchRnMonitoring()},mounted:function(){console.log(this.mode)},watch:{mode:function(){this.fetchRnMonitoring()}}},Et=(0,y.Z)(Mt,[["render",function(e,t,n,o,s,i){var r=(0,a.up)("ag-grid-vue");return(0,a.wg)(),(0,a.iD)("div",pt,[(0,a.kq)(" Historique Modal "),null!==this.selected?((0,a.wg)(),(0,a.iD)("div",ft,[(0,a._)("div",ht,[(0,a._)("div",gt,[bt,(0,a._)("div",vt,[(0,a.Wm)(r,{class:"ag-theme-alpine",style:{height:"40vh"},columnDefs:s.columnHistorique,rowData:this.selected.history,defaultColDef:s.defaultColDef,pagination:"true",animateRows:"true",ensureDomOrder:!0,enableCellTextSelection:!0},null,8,["columnDefs","rowData","defaultColDef"])]),yt])])])):(0,a.kq)("v-if",!0),(0,a.kq)(" Suppression Modal "),null!==this.selected?((0,a.wg)(),(0,a.iD)("div",_t,[(0,a._)("div",wt,[(0,a._)("div",Dt,[kt,(0,a._)("div",xt,[(0,a.Wm)(r,{class:"ag-theme-alpine",style:{height:"60vh"},columnDefs:s.columnEdit,rowData:this.files,defaultColDef:s.defaultColDef,onSelectionChanged:i.onSelectionDeleteChanged,rowSelection:"multiple",pagination:"true",animateRows:"true",ensureDomOrder:!0,enableCellTextSelection:!0},null,8,["columnDefs","rowData","defaultColDef","onSelectionChanged"])]),(0,a._)("div",St,[Ct,(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=function(){return i.removeFiles&&i.removeFiles.apply(i,arguments)})},"Supprimer les documents")])])])])):(0,a.kq)("v-if",!0),0===this.mode?((0,a.wg)(),(0,a.iD)("h3",Tt,"Suivi des Relevés de notes")):(0,a.kq)("v-if",!0),1===this.mode?((0,a.wg)(),(0,a.iD)("h3",Rt,"Suivi des Attestations de réussite")):(0,a.kq)("v-if",!0),(0,a.Wm)(r,{class:"ag-theme-alpine",style:{height:"85vh"},columnDefs:s.columnDefs,rowData:s.monitoring,defaultColDef:s.defaultColDef,pagination:"true",animateRows:"true",ensureDomOrder:!0,enableCellTextSelection:!0},null,8,["columnDefs","rowData","defaultColDef"])])}]]);var qt={class:"container"},Ft=(0,a._)("div",{class:"row justify-content-md-center"},[(0,a._)("h2",null,"Rechercher les documents d'un étudiant")],-1),Ot={class:"mt-3"},Ut={class:"mb-3"},jt=(0,a._)("label",{for:"exampleFormControlInput1",class:"form-label"},"Nom ou code étudiant",-1),Zt={class:"mb-3"},Lt=["disabled"],At={class:"ag-theme-alpine"};const It={name:"agNavLink",data:function(){return{toPath:"/",toName:""}},mounted:function(){this.toPath="/student/".concat(this.params.data.CLFDcodeEtu),this.toName=this.params.data.CLFDcodeEtu[0]}},Ht=(0,y.Z)(It,[["render",function(e,t,n,o,s,i){var r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.j4)(r,{to:s.toPath},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,a.zw)(s.toName),1)]})),_:1},8,["to"])}]]),Wt={name:"SearchStudent",components:{AgGridVue:We.n},data:function(){return{searchField:"",students:null,defaultColDef:{floatingFilter:!0,sortable:!0,filter:!0,resizable:!0,minWidth:100,editable:!1,flex:1,menuTabs:["columnsMenuTab"]},columnDefs:[{field:"CLFDcodeEtu",headerName:"Numéro",cellRenderer:Ht},{field:"sn",headerName:"Nom"},{field:"givenName",headerName:"Prénom"},{field:"supannEntiteAffectationPrincipale",headerName:"Composante"},{field:"nb_docs",headerName:"Nombre de documents"}]}},methods:{searchStudent:function(){var e=this;ge.searchStudent(this.searchField).then((function(t){e.students=t.data})).catch((function(e){console.log(e)}))}}},Pt=(0,y.Z)(Wt,[["render",function(e,t,n,o,s,i){var r=(0,a.up)("ag-grid-vue");return(0,a.wg)(),(0,a.iD)("div",qt,[Ft,(0,a._)("div",Ot,[(0,a._)("div",Ut,[jt,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.searchField=e}),class:"form-control",id:"exampleFormControlInput1",placeholder:"Jeant dupont | 2320215210"},null,512),[[a.nr,s.searchField]])]),(0,a._)("div",Zt,[(0,a._)("button",{class:"btn btn-primary",type:"button",onClick:t[1]||(t[1]=function(){return i.searchStudent&&i.searchStudent.apply(i,arguments)}),disabled:""===s.searchField},"Rechercher ",8,Lt)])]),(0,a._)("div",At,[null!==s.students?((0,a.wg)(),(0,a.j4)(r,{key:0,class:"ag-theme-alpine",style:{height:"60vh"},columnDefs:s.columnDefs,rowData:s.students,defaultColDef:s.defaultColDef,pagination:"true",animateRows:"true",ensureDomOrder:!0,enableCellTextSelection:!0},null,8,["columnDefs","rowData","defaultColDef"])):(0,a.kq)("v-if",!0)])])}]]);var zt={key:0,class:"container"},Vt={class:"mt-2 mb-2"},Yt={class:"accordion",id:"accordionPanelsStayOpenExample"},Gt={class:"accordion-item mt-2"},Bt=["id"],$t=["data-bs-target","aria-controls"],Xt=["id","aria-labelledby"],Jt={class:"accordion-body"},Kt={class:"row"},Qt={class:"col-6"},en=(0,a._)("h6",null,[(0,a._)("strong",null,"Relevés de notes")],-1),tn=["href"],nn=(0,a._)("div",{class:"col-6"},[(0,a._)("h6",null,[(0,a._)("strong",null,"Attestations de réussite")])],-1),an={key:1,class:"container"},on=[(0,a._)("div",{class:"alert alert-warning m-5"}," Aucun document",-1)];const sn={name:"StudentView",data:function(){return{docs:null}},methods:{fetchDocs:function(){var e=this,t=0;t=b.isEtudiant()?b.numero:this.$route.params.num,ge.getStudentDocs(t).then((function(t){e.docs=t.data,console.log(e.docs)})).catch((function(e){console.log("Error fetching docs")}))}},mounted:function(){this.fetchDocs()}},rn=(0,y.Z)(sn,[["render",function(e,t,n,o,s,i){var r=this;return null!==this.docs&&Object.keys(s.docs.rns).length>0?((0,a.wg)(),(0,a.iD)("div",zt,[(0,a._)("div",Vt,[(0,a._)("h5",null,"Vous avez des documents disponibles sur "+(0,a.zw)(Object.keys(s.docs.rns))+" années différentes",1)]),(0,a._)("div",Yt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(s.docs.rns),(function(e,t){return(0,a.wg)(),(0,a.iD)("div",Gt,[(0,a._)("h2",{class:"accordion-header",id:"panelsStayOpen-heading"+e},[(0,a._)("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapse"+e,"aria-expanded":"true","aria-controls":"panelsStayOpen-collapse"+e},(0,a.zw)(e),9,$t)],8,Bt),(0,a._)("div",{id:"panelsStayOpen-collapse"+e,class:(0,a.C_)("accordion-collapse collapse"+(0===t?" show":"")),"aria-labelledby":"panelsStayOpen-heading"+e},[(0,a._)("div",Jt,[(0,a._)("div",Kt,[(0,a._)("div",Qt,[en,(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.docs.rns[e],(function(e){return(0,a.wg)(),(0,a.iD)("li",null,[(0,a._)("a",{href:"/api/etudiant/download/releve/"+r.$route.params.num+"/"+e.index,target:"_blank"},(0,a.zw)(e.name),9,tn)])})),256))])]),nn])])],10,Xt)])})),256))])])):((0,a.wg)(),(0,a.iD)("div",an,on))}]]);var ln=document.querySelector("#app").dataset.info,dn=JSON.parse(atob(ln));b.setName(dn.username),b.setRoles(dn.roles),b.setEncryptedName(dn.encryptedUsername),b.setNumero(dn.numero);var cn=[{path:"/scola",component:A,meta:{requiresScola:!0}},{path:"/scola/import/rn",component:mt,meta:{requiresScola:!0},props:{mode:0}},{path:"/scola/import/attest",component:mt,meta:{requiresScola:!0},props:{mode:1}},{path:"/scola/monitoring/rn",component:Et,meta:{requiresScola:!0},props:{mode:0}},{path:"/scola/monitoring/attest",component:Et,meta:{requiresScola:!0},props:{mode:1}},{path:"/scola/search",component:Pt,meta:{requiresScola:!0}},{path:"/student/:num*",component:rn,meta:{requiresScola:!1}},{path:"/:pathMatch(.*)*",redirect:"/scola"}],un=(0,D.p7)({history:(0,D.PO)(),routes:cn});me.Z.interceptors.response.use((function(e){return e}),(function(e){return console.log("AXIOS ERR"),403===e.response.status&&window.location.reload(),Promise.reject(e)})),un.beforeEach((function(e,t,n){b.isEtudiant()&&"/student"!==e.path?n({path:"/student"}):e.meta.requiresScola?b.isScola()?n():n({path:"/"}):n()}));var mn=(0,a.ri)(w,{});mn.config.compilerOptions.isCustomElement=function(e){return e.startsWith("uca-")},mn.use(un).mount("#app")}},e=>{e.O(0,[625],(()=>{return t=4761,e(e.s=t);var t}));e.O()}]);